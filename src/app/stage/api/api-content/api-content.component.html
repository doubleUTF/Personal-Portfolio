<div class="container">
  <div class="row mt-2 mb-2">
    <div class="col">
      <h3>{{apiApp.name}}</h3>
      <p>{{apiApp.description}}</p>
      <div *ngIf="apiApp.frontEndURL" class="mb-2">
        <a routerLink="/{{apiApp.frontEndURL}}">Link to front-end</a>
      </div>
      <div *ngFor="let route of apiApp.apiList">
        <span class="badge badge-pill" [ngClass]="getBadgeClass(route.method)">{{route.method}}</span>
        <code>{{apiURL}}{{route.url}}</code>
        <div *ngIf="route.params">
          <h6 class="small-header">Parameters</h6>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Name</th>
                  <th scope="col">Type</th>
                  <th scope="col">Required</th>
                  <th scope="col">Description</th>
                </tr>
                <tr *ngFor="let param of route.params">
                  <td class="paramName">{{param.name? '/:'+param.name : '/'}}</td>
                  <td>{{param.type}}</td>
                  <td>{{param.required? 'Yes' : 'No'}}</td>
                  <td>{{param.description}}</td>
                </tr>
              </thead>
            </table>
          </div>
        </div>
        <div *ngIf="route.queryParams">
          <h6 class="small-header">Query Parameters</h6>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Name</th>
                  <th scope="col">Type</th>
                  <th scope="col">Required</th>
                  <th scope="col">Description</th>
                </tr>
                <tr *ngFor="let param of route.queryParams">
                  <td class="paramName">{{param.name? '/?'+param.name : '/'}}</td>
                  <td>{{param.type}}</td>
                  <td>{{param.required? 'Yes' : 'No'}}</td>
                  <td>{{param.description}}</td>
                </tr>
              </thead>
            </table>
          </div>
        </div>
        <div *ngIf="route.bodyParams">
          <h6 class="small-header">Body Parameters</h6>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Name</th>
                  <th scope="col">Type</th>
                  <th scope="col">Required</th>
                  <th scope="col">Description</th>
                </tr>
                <tr *ngFor="let param of route.bodyParams">
                  <td class="paramName">{{param.name}}</td>
                  <td>{{param.type}}</td>
                  <td>{{param.required? 'Yes' :'No'}}</td>
                  <td>{{param.description}}</td>
                </tr>
              </thead>
            </table>
          </div>
        </div>
        <div *ngIf="!route.exampleResponse">
          <h6 class="small-header">Example</h6>
          <div *ngIf="route.params">
            <div *ngFor="let param of route.params">
              <div *ngIf="param.exampleResponse">
                <code>{{apiURL}}{{route.url}}/{{param.exampleRequest? param.exampleRequest : ''}}</code>
                <div class="code-container mb-3">
                  <code class="response">{{param.exampleResponse}}</code>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="route.queryParams">
            <div *ngFor="let param of route.queryParams">
              <div *ngIf="param.exampleResponse">
                <code>{{apiURL}}{{route.url}}/{{param.exampleRequest? param.exampleRequest : ''}}</code>
                <div class="code-container mb-3">
                  <code class="response">{{param.exampleResponse}}</code>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="route.bodyParams">
            <div *ngFor="let param of route.bodyParams">
              <div *ngIf="param.exampleResponse">
                <code *ngIf="param.exmapleRequest">{{apiURL}}{{route.url}}/{{param.exampleRequest? param.exampleRequest : ''}}</code>
                <div class="code-container mb-3">
                  <code class="response">{{param.exampleResponse}}</code>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="route.exampleResponse">
          <h6 class="small-header">Example</h6>
          <code>{{route.exampleRequest}}</code>
          <div class="code-container mb-3">
            <code class="response">{{route.exampleResponse}}</code>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
